# このリポジトリについて
このリポジトリはYOLO（物体検出）を用いたアプリケーションになります。画像から人や犬、猫、かばんなどをYOLOを用いて検出することを目的としたリポジトリであり、そのサンプルコードとなります。なお開発ではmacを使用していました。

# 準備
## インストール
### Python
このリポジトリを使用するためには、あらかじめPythonがPCに入っていないといけません。そのため、あらかじめインストールしておいてください。なお開発段階では"Python 3.10.11"を使用していました。（バージョンによって互換性があるかもしれません）

### opencv-python numpy moviepy
```
pip install opencv-python
pip install numpy
pip install moviepy
```

## ダウンロード & 配置
物体検出を行うにあたり、機械学習済みモデルを使用します。しかし、学習済みモデルの容量が約250MBと大きいためGitHub上に保管することができません。そのため、このリポジトリを試す場合は以下のリンク先から学習済みモデルをダウンロードして、settingフォルダへ配置してください。

1. 以下のURL先からダウンロードする

https://pjreddie.com/media/files/yolov3.weights

2. 学習済みモデルを"setting"フォルダに配置する


# 使い方
## searchYOLO.py
実行することで、画像から"coco.names"にある物体（人、犬、猫、かばんなど）を検出し、検出した結果を画像上に表記させ、画像ファイルとして保存することができます。

なお、あらかじめ検出したい画像ファイルを指定しなければなりません。

あくまでYOLOを使用するための基本的なソースコードになります。どのような物体を検出できるかは、"coco.names"を確認してください。

## video2mosaic.py
実行することで、動画のフレームごとに人を検出し、人として検出した部分にモザイクを掛けることができます。モザイクを掛けた動画は音声なしと音声ありの2つが保存されます。

なお、あらかじめ検出したい動画ファイルを指定しなければなりません。

活用例として、YouTubeチャンネルを運営している方で、写ってしまった人に対してモザイクを掛けることができます。これによって、動画に写った人の肖像権の心配がなくなります。ただし以下の例ではモザイクが掛からない、あるいは掛からない可能性があります。

- 特定の人物に対して、モザイクをかける/書けにようにことはできません。機械学習モデルが人と判断するもの全てにモザイクがかかります。
- 人の顔の向きや体の向き、光の加減などによって、フレーム単位でモザイクが掛からなくなる場合があります。機械学習モデルが人と検出した部分にのみモザイクが掛かる仕組みだからです。

なおこのコードを実行した場合、処理に時間を要することをご承知おきください。

# 注意点
学習済みモデルを元に、物体や人を検出します。したがってGPUを用いた計算が必要となるので、GPUがついているPCで使用してください。




